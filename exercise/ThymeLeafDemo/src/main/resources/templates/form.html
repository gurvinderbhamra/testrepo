<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <title>Register</title>
    <style>
        #imgLoad{
            width: 30px;
            height: 30px;
            z-index: 1;
            display: none;
        }
    </style>
    <script>

        $(document).submit(function (e) {
            $.ajax({
                url: "/register",
                method: "GET",
                success: function success(success) {
                    //do something
                },
                beforeSend: function () {
                    $(".registerForm").hide();
                    $('#imgLoad').show();
                }
            });
        });


    </script>
</head>
<body>
<b>Employee Registration</b><br><br>

<form action="#" th:object="${employee}" th:action="@{'/register'}" th:method="post" th:class="registerForm">
    <table>
        <tr>
            <td>Name :</td>
            <td><input type="text" th:field="*{name}" required/></td>
        </tr>
        <tr>
            <td>Age :</td>
            <td><input type="text" th:field="*{age}" required/></td>
        </tr>
        <tr>
            <td>Address :</td>
            <td><input type="text" th:field="*{address}" required/></td>
        </tr>
        <tr>
            <td>Phone :</td>
            <td><input type="text" th:field="*{phone}" required/></td>
        </tr>
        <tr>
            <td>IsAdmin : </td>
            <td>
                <input type="checkbox" th:field="*{isAdmin}">
            </td>
        </tr>
        <tr>
            <td>User type : </td>
            <td>
                <select th:field="*{employeesType}">
                    <option th:each="etype : ${T(com.bootcamp.thymeleaf.enm.EmployeesType).getValues()}"
                            th:text="${etype}" th:value="${etype}"></option>
                </select>
            </td>
        </tr>
        <tr>
            <td>
                <input th:type="submit" th:value="Register" th:id="submitBtn"/>
            </td>
            <td>
                <input type="reset" value="Reset"/>
            </td>
        </tr>
    </table>
</form>
<img th:src="@{images/load.gif}" th:id="imgLoad"/>
</body>
</html>